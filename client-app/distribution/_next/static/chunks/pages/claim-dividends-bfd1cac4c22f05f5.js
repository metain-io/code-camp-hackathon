(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{3664:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/claim-dividends",function(){return n(6766)}])},6766:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var d=n(5893),i=n(5067),a=n(4085),r=n(8924),s=n(7294),l=n(9473);let o=()=>{let e=(0,l.I0)(),{showToast:t}=(0,r.d$)(),n=(0,l.v9)(a._r),d=(0,l.v9)(a.KU),i=(0,l.v9)(a.Sg),o=(0,l.v9)(a.w2);s.useEffect(()=>{e(a.Mk.initRequested())},[]),s.useEffect(()=>{i==a.hJ.ClaimDividendFailed?t({status:"error",message:o}):i==a.hJ.ClaimDividendSucceeded&&(t({status:"success",message:"Claim dividend successful"}),e(a.Mk.initRequested()))},[i]);let c=()=>{console.log("handle buy nft"),e(a.Mk.claimDividendRequested())};return{status:i,userTotalUsdClaimableDividend:n,userTotalUsdClaimedDividend:d,handleClaimDividends:c}};var c=n(4345),h=n.n(c);let m=()=>{let{status:e,userTotalUsdClaimableDividend:t,userTotalUsdClaimedDividend:n,handleClaimDividends:i}=o(),r=e=>{e.preventDefault(),i()};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("form",{className:[h().form,"mBackground-style-1"].join(" "),children:(0,d.jsxs)("div",{className:h()["form-body"],children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:"Available (Claimable)"}),(0,d.jsxs)("p",{children:[e==a.hJ.Loading?"- -":e==a.hJ.LoadingFailed?"N/A":t/1e6," ","US$"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:"Value (Claimed)"}),(0,d.jsxs)("p",{children:[e==a.hJ.Loading?"- -":e==a.hJ.LoadingFailed?"N/A":n/1e6," ","US$"]})]}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:[h()["button-claim-dividends"],"mButton","mButton-cp5-bn1"].join(" "),onClick:r,disabled:e==a.hJ.Loading||e==a.hJ.LoadingFailed||e==a.hJ.ClaimingDividend||0==t,children:e==a.hJ.Loading?"Loading...":e==a.hJ.ClaimingDividend?"Processing...":"Claim"})})]})})})};var u=n(381),v=n.n(u),x=n(2331),f=n.n(x);let j=()=>{let e=(0,l.I0)(),t=(0,l.v9)(a.$h),n=(0,l.v9)(a.Sg);return s.useEffect(()=>{e(a.Mk.initRequested())},[]),{status:n,userDividensData:t}},p=()=>{let{status:e,userDividensData:t}=j();return(0,d.jsx)("div",{className:f()["table-wrapper"],children:(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{"data-name":"id",children:"ID"}),(0,d.jsx)("th",{"data-name":"project",children:"PROJECT"}),(0,d.jsx)("th",{"data-name":"from",children:"FROM"}),(0,d.jsx)("th",{"data-name":"to",children:"TO"}),(0,d.jsx)("th",{"data-name":"amount-nft",children:"AMOUNT NFT"}),(0,d.jsx)("th",{"data-name":"amount-dividend",children:"AMOUNT DIVIDEND"}),(0,d.jsx)("th",{"data-name":"status",children:"STATUS"})]})}),(0,d.jsx)("tbody",{children:e!=a.hJ.Loading&&(null==t?void 0:t.length)>0?t.map(e=>{let{id:t,project:n,dateFrom:i,dateTo:a,nft:r,dividend:s,status:l}=e;return(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{"data-name":"id",children:["#",t]}),(0,d.jsx)("td",{"data-name":"project",children:n}),(0,d.jsx)("td",{"data-name":"from",children:i&&v()(i).format("DD - MM - YYYY")}),(0,d.jsx)("td",{"data-name":"to",children:a&&v()(a).format("DD - MM - YYYY")}),(0,d.jsx)("td",{"data-name":"amount-nft",children:r}),(0,d.jsxs)("td",{"data-name":"amount-dividend",children:[s/1e6," US$"]}),(0,d.jsx)("td",{"data-name":"status","data-value":l,children:l})]},t)}):e==a.hJ.Loading?(0,d.jsx)("tr",{"data-type":"empty-row",children:(0,d.jsx)("td",{colSpan:7,children:"Loading..."})}):(0,d.jsx)("tr",{"data-type":"empty-row",children:(0,d.jsx)("td",{colSpan:7,children:"No transaction yet"})})})]})})};var y=n(1664),N=n.n(y),_=n(7152),g=n.n(_);let T=BigInt(1e6),F=()=>{let e=(0,l.I0)(),t=(0,l.v9)(a.$h),n=(0,l.v9)(a.Sg),[d,i]=s.useState([]),[r,o]=s.useState([]),[c,h]=s.useState([]),[m,u]=s.useState([]),[x,f]=s.useState({year:void 0,month:void 0});s.useEffect(()=>{e(a.Mk.initRequested())},[]),s.useEffect(()=>{t&&t.length>0&&j(t)},[t]),s.useEffect(()=>{d&&d.length>0&&p(d)},[d]),s.useEffect(()=>{void 0!=x.year&&void 0===x.month?N(d,x.year):void 0!=x.year&&void 0!=x.month&&y(d,x.month,x.year)},[x]);let j=e=>{let t;let n=(e,t)=>{let n=v()(new Date(e.year(),e.month()-1,e.date())),d=v()(new Date(t.year(),t.month()-1,t.date()));return n<d?1:n.year()===d.year()&&n.month()===d.month()&&n.date()===d.date()?0:-1},d=[...e].sort((e,t)=>((null==t?void 0:t.dateFrom)||0)-(e.dateFrom||0)>0?-1:1);if(d&&0===d.length)return[];let a=v()(d[0].dateFrom),r=v()(d[d.length-1].dateTo),s=((e,t)=>{let d=[],i=e.add(1,"day");for(;;)if(-1!==n(i,t))d.push({dateFrom:v()(new Date(i.year(),i.month(),i.date())).valueOf(),dividenId:"",id:"",dateTo:v()(new Date(i.year(),i.month(),i.date())).valueOf(),project:"",dividend:0,nft:0,dividendPerNFT:0,status:"available"}),i.add(1,"day");else break;return d})(a,r);return s.forEach((e,i)=>{t=d.find((t,d)=>{let i=1===n(v()(t.dateFrom),v()(e.dateFrom)),a=-1!==n(v()(e.dateFrom),v()(t.dateTo));return i&&a}),e.dividenId=(null==t?void 0:t.dividenId)||"",e.id=(null==t?void 0:t.id)||"",e.project=(null==t?void 0:t.project)||"",e.dividend=Number(BigInt((null==t?void 0:t.dividend)||0)*BigInt(100)/T)/100,e.nft=(null==t?void 0:t.nft)||0,e.dividendPerNFT=Number(BigInt((null==t?void 0:t.dividendPerNFT)||0)*BigInt(100)/T)/100,e.status=(null==t?void 0:t.status)||"unknown"}),i(s),s},p=e=>{let t=[];if(e&&0===e.length)return t;let n=[];return e.forEach((e,t)=>{let d=v()(e.dateFrom).year();-1===n.indexOf(d)&&n.push(d)}),n.forEach((n,d)=>{let i={year:n,project:"",dividend:0,nftMin:e[0].nft,nftMax:e[0].nft,dividendPerNFTMin:e[0].dividendPerNFT,dividendPerNFTMax:e[0].dividendPerNFT,status:""};e.forEach((e,t)=>{v()(e.dateFrom).year()===n&&(i.dividend+=e.dividend||0,i.project=e.project,i.nftMin>e.nft&&(i.nftMin=e.nft),i.nftMax<e.nft&&(i.nftMax=e.nft),i.dividendPerNFTMin>e.dividendPerNFT&&(i.dividendPerNFTMin=e.dividendPerNFT),i.dividendPerNFTMax<e.dividendPerNFT&&(i.dividendPerNFTMax=e.dividendPerNFT))}),t.push(i)}),o(t),t},y=(e,t,n)=>{if(e&&0===e.length)return[];let d=e.filter((e,d)=>v()(e.dateFrom).year()==n&&v()(e.dateFrom).month()==t);return u(d),d},N=(e,t)=>{if(e&&0===e.length)return[];let n=e.filter((e,n)=>v()(e.dateFrom).year()==t),d=[];if(n&&0===n.length)return d;let i=[];return n.forEach((e,t)=>{let n=v()(e.dateFrom).month();-1===i.indexOf(n)&&i.push(n)}),i.forEach((e,t)=>{let i={year:e,project:"",dividend:0,nftMin:n[0].nft,nftMax:n[0].nft,dividendPerNFTMin:n[0].dividendPerNFT,dividendPerNFTMax:n[0].dividendPerNFT,status:""};n.forEach((t,n)=>{v()(t.dateFrom).month()===e&&(i.dividend+=t.dividend||0,i.project=t.project,i.nftMin>t.nft&&(i.nftMin=t.nft),i.nftMax<t.nft&&(i.nftMax=t.nft),i.dividendPerNFTMin>t.dividendPerNFT&&(i.dividendPerNFTMin=t.dividendPerNFT),i.dividendPerNFTMax<t.dividendPerNFT&&(i.dividendPerNFTMax=t.dividendPerNFT))}),d.push(i)}),h(d),d};return{status:n,userDividensData:t,yearUserDividend:r,dividendDataInDetail:d,dividendDataInDetailByYear:c,dividendDataInDetailWithSpecificMonth:m,criteria:x,setCriteria:f}},w=e=>{let{status:t,yearUserDividend:n,criteria:i,setCriteria:r}=e;return(0,d.jsx)("div",{className:g().user_dividend_wrapper,children:(0,d.jsx)("div",{className:g()["table-dividend-history-wrapper"],children:(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{"data-name":"from",children:"YEAR"}),(0,d.jsx)("th",{"data-name":"project",children:"PROJECT"}),(0,d.jsx)("th",{"data-name":"amount-nft",children:"AMOUNT NFT (In Range)"}),(0,d.jsx)("th",{"data-name":"amount-nft",children:"NFT PRICE (In Range)"}),(0,d.jsx)("th",{"data-name":"amount-dividend",children:"AMOUNT DIVIDEND"})]})}),(0,d.jsx)("tbody",{children:t!=a.hJ.Loading&&n&&n.length>0?n.map((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{"data-name":"from",children:(0,d.jsx)(N(),{href:"",onClick(){r({...i,year:e.year})},children:e.year})}),(0,d.jsx)("td",{"data-name":"project",children:e.project}),(0,d.jsx)("td",{"data-name":"amount-nft",children:"".concat(e.nftMin," ~ ").concat(e.nftMax)}),(0,d.jsx)("td",{"data-name":"amount-nft",children:"".concat(e.dividendPerNFTMin," ~ ").concat(e.dividendPerNFTMax)}),(0,d.jsxs)("td",{"data-name":"amount-dividend",children:[e.dividend," US$"]})]},t)):t==a.hJ.Loading?(0,d.jsx)("tr",{"data-type":"empty-row",children:(0,d.jsx)("td",{colSpan:6,children:"Loading..."})}):(0,d.jsx)("tr",{"data-type":"empty-row",children:(0,d.jsx)("td",{colSpan:6,children:"No transaction yet"})})})]})})})},M=e=>{let{status:t,data:n,criteria:i,setCriteria:r}=e;return(0,d.jsxs)("div",{className:g().user_dividend_wrapper,children:[(0,d.jsxs)("button",{className:[g().button_1,"mButton mButton-cn1-bp5"].join(" "),onClick(){r({month:void 0,year:void 0})},children:[(0,d.jsx)("i",{className:"fml fm-arrow-left"}),"Back to year listing"]}),(0,d.jsx)("div",{className:g()["table-dividend-history-wrapper"],children:(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{"data-name":"from",children:"MONTH"}),(0,d.jsx)("th",{"data-name":"project",children:"PROJECT"}),(0,d.jsx)("th",{"data-name":"amount-nft",children:"AMOUNT NFT (In Range)"}),(0,d.jsx)("th",{"data-name":"amount-nft",children:"NFT PRICE (In Range)"}),(0,d.jsx)("th",{"data-name":"amount-dividend",children:"AMOUNT DIVIDEND"})]})}),(0,d.jsx)("tbody",{children:t!=a.hJ.Loading&&n&&n.length>0?n.map((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{"data-name":"from",children:(0,d.jsx)(N(),{href:"",onClick(){r({...i,month:e.year})},children:e.year+1})}),(0,d.jsx)("td",{"data-name":"project",children:e.project}),(0,d.jsx)("td",{"data-name":"amount-nft",children:"".concat(e.nftMin," ~ ").concat(e.nftMax)}),(0,d.jsx)("td",{"data-name":"amount-nft",children:"".concat(e.dividendPerNFTMin," ~ ").concat(e.dividendPerNFTMax)}),(0,d.jsxs)("td",{"data-name":"amount-dividend",children:[e.dividend," US$"]})]},t)):t==a.hJ.Loading?(0,d.jsx)("tr",{"data-type":"empty-row",children:(0,d.jsx)("td",{colSpan:6,children:"Loading..."})}):(0,d.jsx)("tr",{"data-type":"empty-row",children:(0,d.jsx)("td",{colSpan:6,children:"No transaction yet"})})})]})})]})},b=e=>{let{status:t,dividendDataInDetailWithSpecificMonth:n,setCriteria:i,criteria:r}=e;return(0,d.jsxs)("div",{className:g().user_dividend_wrapper,children:[(0,d.jsxs)("button",{className:[g().button_1,"mButton mButton-cn1-bp5"].join(" "),onClick(){i({...r,month:void 0})},children:[(0,d.jsx)("i",{className:"fml fm-arrow-left"}),"Back to month listing"]}),(0,d.jsx)("div",{className:g()["table-dividend-history-wrapper"],children:(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{"data-name":"from",children:"DATE"}),(0,d.jsx)("th",{"data-name":"project",children:"PROJECT"}),(0,d.jsx)("th",{"data-name":"amount-nft",children:"AMOUNT NFT"}),(0,d.jsx)("th",{"data-name":"amount-dividend",children:"AMOUNT DIVIDEND"}),(0,d.jsx)("th",{"data-name":"status",children:"STATUS"})]})}),(0,d.jsx)("tbody",{children:t!=a.hJ.Loading&&(null==n?void 0:n.length)>0?n.map((e,t)=>{let{id:n,project:i,dateFrom:a,dateTo:r,nft:s,dividend:l,status:o}=e;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{"data-name":"from",children:a&&v()(a).format("DD - MM - YYYY")}),(0,d.jsx)("td",{"data-name":"project",children:i}),(0,d.jsx)("td",{"data-name":"amount-nft",children:s}),(0,d.jsxs)("td",{"data-name":"amount-dividend",children:[l," US$"]}),(0,d.jsx)("td",{"data-name":"status","data-value":o,children:o})]},t)}):t==a.hJ.Loading?(0,d.jsx)("tr",{"data-type":"empty-row",children:(0,d.jsx)("td",{colSpan:6,children:"Loading..."})}):(0,d.jsx)("tr",{"data-type":"empty-row",children:(0,d.jsx)("td",{colSpan:6,children:"No transaction yet"})})})]})})]})},P=()=>{let{status:e,dividendDataInDetailByYear:t,criteria:n,dividendDataInDetailWithSpecificMonth:i,yearUserDividend:a,setCriteria:r}=F();return(0,d.jsx)(d.Fragment,{children:void 0===n.year&&void 0===n.month?(0,d.jsx)(w,{status:e,yearUserDividend:a,setCriteria:r,criteria:n}):void 0!=n.year&&void 0===n.month?(0,d.jsx)(M,{status:e,data:t,criteria:n,setCriteria:r}):(0,d.jsx)(b,{status:e,dividendDataInDetailWithSpecificMonth:i,setCriteria:r,criteria:n})})};var C=n(4499),D=n.n(C);let I=()=>(0,d.jsxs)("div",{className:D().container,children:[(0,d.jsx)("h2",{className:D().title,children:"Claim Dividends"}),(0,d.jsx)("div",{className:D()["form-buy-nft-placeholder"],style:{marginBottom:"30px"},children:(0,d.jsx)(m,{})}),(0,d.jsx)("h2",{className:D().title,children:"Claim Dividends History"}),(0,d.jsx)("div",{className:D()["table-claim-dividends-history-placeholder"],children:(0,d.jsx)(p,{})}),(0,d.jsx)("br",{}),(0,d.jsx)("h2",{className:D().title,children:"User Dividends History - In detail"}),(0,d.jsx)("div",{className:D()["table-claim-dividends-history-placeholder"],children:(0,d.jsx)(P,{})})]});I.getLayout=function(e){return(0,d.jsx)(i.lq,{children:e})};var E=I},8924:function(e,t,n){"use strict";n.d(t,{d$:function(){return o},Fs:function(){return h}});var d=n(7294),i=n(5893),a=n(6455),r=n.n(a),s=n(782);let l=()=>{let e={padding:"0 1rem 5rem 1rem",showConfirmButton:!1,showCancelButton:!1,showCloseButton:!0},t={allowEnterKey:!1,allowOutsideClick:!1,showCancelButton:!0,showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}},n={icon:!1,position:s.Am.POSITION.BOTTOM_RIGHT,transition:(0,s.vU)({enter:"animate__animated animate__slideInRight",exit:"animate__animated animate__zoomOut"})};return{showPopup:function(t){let{status:n="success",title:d="",message:i="",...a}=t;r().fire({imageUrl:"none"!=n?"/image/zero/image-alert-".concat(n,".png"):"",imageWidth:200,imageHeight:200,title:d,html:i,...e,...a})},showAlert:function(e){let{title:n="",message:d="",C_confirm:i=()=>{},C_cancel:a=()=>{}}=e,s=r().fire({icon:"question",title:""===n?"Warning":n,html:""===d?"Confirm to perform action":d,confirmButtonText:"Confirm",cancelButtonText:"Cancel",...t});s.then(e=>{e.dismiss===r().DismissReason.cancel?a():i()})},showToast:function(e){let{status:t="success",title:a="",message:r="",duration:l=5e3}=e;(0,s.Am)((0,i.jsxs)(d.Fragment,{children:[(0,i.jsx)("div",{className:"title upper-case-text",children:t}),(0,i.jsx)("div",{className:"message",dangerouslySetInnerHTML:{__html:r}})]}),{type:t,autoClose:l,...n})}}};var o=l;let c=()=>{let[e,t]=d.useState(i());function n(){t(i())}function i(){return window.innerWidth>1007?"browser":window.innerWidth>700?"tablet-large":window.innerWidth>480?"tablet":"mobile"}return d.useEffect(()=>(n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[]),e};var h=c},4345:function(e){e.exports={form:"styles_form__tI2Po","form-header":"styles_form-header__mT71g","form-title":"styles_form-title__TABnc","form-body":"styles_form-body__HapY8","form-group":"styles_form-group__tPJRS","button-claim-dividends":"styles_button-claim-dividends__BLLeO"}},7152:function(e){e.exports={user_dividend_wrapper:"styles_user_dividend_wrapper__P8qtP",button_1:"styles_button_1__P72PF","table-dividend-history-wrapper":"styles_table-dividend-history-wrapper__yV_Xt"}},2331:function(e){e.exports={"table-wrapper":"styles_table-wrapper__hIUsI"}},4499:function(e){e.exports={container:"styles_container__a3YRw",title:"styles_title__cKoH3","table-claim-dividends-history-placeholder":"styles_table-claim-dividends-history-placeholder__T2CeK"}}},function(e){e.O(0,[885,61,455,67,774,888,179],function(){return e(e.s=3664)}),_N_E=e.O()}]);