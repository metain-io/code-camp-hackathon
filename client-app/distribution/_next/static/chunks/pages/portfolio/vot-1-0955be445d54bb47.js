(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{4901:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/portfolio/vot-1",function(){return t(2854)}])},2854:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Z}});var n,a,l,i,o=t(5893),r=t(5067),_=t(876),c=t(481),d=t(5739),u=t(699),m=t(7294);let p=m.createContext({}),h=()=>m.useContext(p);(n=l||(l={})).InitRequested="INIT_REQUESTED",n.InitFailed="INIT_FAILED",n.InitSucceeded="INIT_SUCCEEDED",n.AmountNftChanged="AMOUNT_NFT_CHANGED",n.AmountTokenChanged="AMOUNT_TOKEN_CHANGED",n.SelectedTokenIndexChanged="SELECTED_TOKEN_INDEX_CHANGED",n.PurchaseNftRequested="PURCHASE_NFT_REQUESTED",n.PurchaseNftFailed="PURCHASE_NFT_FAILED",n.PurchaseNftSucceeded="PURCHASE_NFT_SUCCEEDED",(a=i||(i={}))[a.Idle=0]="Idle",a[a.Initializing=1]="Initializing",a[a.InitializeFailed=2]="InitializeFailed",a[a.InitializeSucceeded=3]="InitializeSucceeded",a[a.Processing=4]="Processing",a[a.ProcessFailed=5]="ProcessFailed",a[a.ProcessSucceeded=6]="ProcessSucceeded";let f=(e,s)=>{var t;let{type:n,payload:a}=s;console.log("handle ".concat(n),a);let o={[l.InitRequested](){e.status=i.Initializing},[l.InitFailed](s){let{error:t}=s;e.status=i.InitializeFailed,e.error=t},[l.InitSucceeded](){e.status=i.InitializeSucceeded},[l.AmountNftChanged](s){let{amountNft:t,amountToken:n}=s;e.formData.amountNft=t,e.formData.amountToken=n},[l.AmountTokenChanged](s){let{amountToken:t,amountNft:n}=s;e.formData.amountToken=t,e.formData.amountNft=n},[l.SelectedTokenIndexChanged](s){let{index:t}=s;e.formData.selectedTokenIndex=t},[l.PurchaseNftRequested](){e.status=i.Processing},[l.PurchaseNftFailed](s){let{error:t}=s;e.status=i.ProcessFailed,e.error=t},[l.PurchaseNftSucceeded](){e.status=i.ProcessSucceeded}};return null===(t=o[n])||void 0===t||t.call(o,a),{...e}};var v=t(9592),x=t.n(v);let N=()=>{let{status:e,handlePurchaseNft:s}=h(),{status:t}=(0,u.v5)();return(0,o.jsx)("button",{className:["mButton mButton-cn1-bp6",x().button].join(" "),onClick:s,disabled:e==i.Initializing||e==i.Processing||t==u.J0.Loading,children:(()=>{switch(e){case i.Initializing:return"Initializing...";case i.Processing:return"Processing...";default:if(t==u.J0.Loading)return"Initializing...";return"Purchase"}})()})};var y=t(612),g=t.n(y);let j=()=>{let{status:e,data:s}=(0,u.v5)(),{selectableTokens:t,selectedToken:n,formData:a,handleAmountNftChanged:l,handleAmountTokenChanged:i,handleSelectedTokenIndexChanged:r}=h(),_=m.useRef(!1),p=e=>{let s=e.target.value;r(+s)},f=e=>{_.current=!0},v=e=>{_.current=!1},x=e=>{if(!_.current)return;let s=e.target.value;l(s)},N=e=>{if(_.current)return;let s=e.target.value;i(s)};return(0,o.jsxs)("div",{id:g().preorder_input,children:[(0,o.jsxs)("div",{className:g().input_block,children:[(0,o.jsx)("p",{className:g().input_block_label,children:"YOU BUY"}),(0,o.jsxs)("div",{className:g().input_block_label_currency,children:[(0,o.jsx)(c.Z,{src:"/svg/icon-vot-nft.svg",alt:""}),(0,o.jsxs)("span",{children:[null==s?void 0:s.showcaseInfo.id," NFT"]})]}),(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)("input",{inputMode:"numeric",type:"number",placeholder:"0",value:a.amountNft,onBeforeInput:f,onChange:x}),a.amountNft&&!isNaN(+a.amountNft)&&(0,o.jsx)("span",{className:g().formatted,children:(0,d.u)(+a.amountNft)})]})]}),(0,o.jsx)("div",{className:g().divider}),(0,o.jsxs)("div",{className:g().input_block,children:[(0,o.jsx)("p",{className:g().input_block_label,children:"YOU PAY"}),(0,o.jsxs)("div",{className:[g().input_block_label_currency,g().flex_end].join(" "),children:[(0,o.jsx)(c.Z,{src:null==n?void 0:n.iconUrl,alt:""}),(0,o.jsx)("select",{onChange:p,children:t.map((e,s)=>(0,o.jsx)("option",{value:s,children:e.symbol},"token-".concat(s)))})]}),(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)("input",{inputMode:"numeric",type:"number",placeholder:"0",value:a.amountToken,onBeforeInput:v,onChange:N,style:{textAlign:"right"}}),a.amountToken&&!isNaN(+a.amountToken)&&(0,o.jsx)("span",{className:g().formatted,style:{textAlign:"right",right:0},children:(0,d.u)(+a.amountToken)})]})]})]})};var w=t(8329),b=t.n(w);let I=()=>(0,o.jsx)("div",{id:b().preorder_container,children:(0,o.jsxs)("div",{className:b().inner_content,children:[(0,o.jsx)(T,{}),(0,o.jsx)(k,{})]})}),T=()=>{var e,s,t;let{data:n}=(0,u.v5)();return(0,o.jsxs)("div",{id:b().header_wrapper,children:[(0,o.jsx)(c.Z,{className:b().image_1,src:"/image/vot/vot-1.png",alt:""}),(0,o.jsxs)("div",{className:b().div_1,children:[(0,o.jsx)("div",{style:{display:"flex"},children:(0,o.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"column"},children:[(0,o.jsx)("span",{className:b().span_1,children:"PURCHASE"}),(0,o.jsx)(_.Z,{href:"/admin/vot/building/1",className:[b().span_1].join(" "),children:"".concat(null==n?void 0:n.showcaseInfo.id,": ").concat(null==n?void 0:n.showcaseInfo.name)})]})}),(0,o.jsxs)("div",{className:b().div_2,children:[(0,o.jsxs)("div",{className:b().item_1,children:[(0,o.jsxs)("span",{className:b().span_2,children:[null==n?void 0:n.showcaseInfo.id," NFT"]}),(0,o.jsxs)("span",{className:b().span_3,children:[(null==n?void 0:null===(e=n.saleInfo)||void 0===e?void 0:e.nftPrice)&&(0,d.u)(null==n?void 0:n.saleInfo.nftPrice)||"- -"," US$/NFT"]})]}),(0,o.jsxs)("div",{className:b().item_1,children:[(0,o.jsx)("span",{className:b().span_2,children:"TOTAL SUPPLY"}),(0,o.jsxs)("span",{className:b().span_3,children:[(null==n?void 0:null===(s=n.saleInfo)||void 0===s?void 0:s.nftTotalSupply)&&(0,d.u)(null==n?void 0:n.saleInfo.nftTotalSupply)||"- -"," ","NFT"]})]}),(0,o.jsxs)("div",{className:b().item_1,children:[(0,o.jsx)("span",{className:b().span_2,children:"SOLD"}),(0,o.jsxs)("span",{className:b().span_3,children:[(null==n?void 0:null===(t=n.saleInfo)||void 0===t?void 0:t.nftSold)&&(0,d.u)(null==n?void 0:n.saleInfo.nftSold)||"- -"," NFT"]})]})]})]})]})},k=()=>{let{data:e}=(0,u.v5)(),{formData:s}=h();return(0,o.jsxs)("div",{id:b().confirmorder_wrapper,children:[(0,o.jsx)(j,{}),(0,o.jsx)("div",{className:b().separator_1}),(0,o.jsxs)("div",{className:b().div_3,children:[(0,o.jsx)("span",{className:b().span_1,children:"Wallet Balance:"}),(0,o.jsx)(D,{})]}),(0,o.jsxs)("div",{className:b().div_2,children:[(0,o.jsx)("span",{className:b().span_4,children:"Amount NFT"}),(0,o.jsxs)("span",{className:b().span_5,children:[s.amountNft&&(0,d.u)(+s.amountNft)||"0"," ",null==e?void 0:e.showcaseInfo.id," NFT"]}),(0,o.jsx)("span",{className:b().span_4,children:"NFT Price"}),(0,o.jsxs)("span",{className:b().span_5,children:[(null==e?void 0:e.saleInfo.nftPrice)&&(0,d.u)(null==e?void 0:e.saleInfo.nftPrice)||"- -"," US$"]}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:b().separator_2}),(0,o.jsx)("span",{className:[b().span_4,b().stressed].join(" "),children:"Payment Total"}),(0,o.jsxs)("span",{className:[b().span_5,b().stressed].join(" "),children:[" ",s.amountNft&&(0,d.u)(10*+s.amountNft)||"0"," US$"]})]})]}),(0,o.jsx)("div",{className:[b().button_1].join(" "),children:(0,o.jsx)(N,{})}),(0,o.jsxs)("span",{className:b().span_6,children:["By using Metain App. You agree to"," ",(0,o.jsx)("a",{href:"https://metain.io/term-condition",target:"_blank",rel:"noreferrer",children:"Term and Conditions"})]})]})},D=()=>{let{selectedToken:e,selectedTokenBalance:s}=h();return(0,o.jsx)("div",{className:b().div_4,children:(0,o.jsxs)("span",{className:b().block_span_4,children:[(null==s?void 0:s.toString())||" - -"," ",(null==e?void 0:e.symbol)||"- -"]})})};new Date().toDateString(),new Date().toDateString(),new Date().toDateString(),new Date().toDateString(),new Date().toDateString(),new Date().toDateString(),new Date().toDateString(),new Date().toDateString(),new Date().toDateString(),new Date().toDateString(),new Date().toDateString(),new Date().toDateString();var S=t(7474),P=t(6638),C=t(8924),E=t(5860),A=t(9473);let F=[{symbol:"USDC",iconUrl:"/svg/icon-token-usdc.svg"}],z={status:i.Idle,error:null,formData:{selectedTokenIndex:0,amountNft:"",amountToken:""}},R=()=>{let[e,s]=m.useReducer(f,z),t=(0,A.I0)(),{status:n,data:a,handleReloadData:o}=(0,u.v5)(),[r,_]=m.useState(),{showToast:c}=(0,C.d$)(),d=async()=>{var s,t;let n=e.formData.selectedTokenIndex>=0&&F[e.formData.selectedTokenIndex]||null;if(!(null==n?void 0:n.symbol)||!(null===(s=S.Z.currentWallet)||void 0===s?void 0:s.walletAccount))return null;let a=await (null===(t=S.Z.currentWallet)||void 0===t?void 0:t.getBalances());return a[null==n?void 0:n.symbol]};m.useEffect(()=>{s({type:l.InitRequested});let e=async()=>{t(E.$h.getNftBalanceRequested())};e().then(()=>{s({type:l.InitSucceeded})}).catch(e=>{s({type:l.InitFailed,payload:{error:e}})})},[]),m.useEffect(()=>{if(e.status==i.ProcessSucceeded)d().then(e=>_(e)),o(),c({status:"success",message:"Purchase Success"});else if(e.status==i.ProcessFailed){var s,t;c({status:"error",message:(null===(s=e.error)||void 0===s?void 0:s.message)||(null===(t=e.error)||void 0===t?void 0:t.toString())})}},[e.status]),m.useEffect(()=>{d().then(e=>_(e))},[e.formData.selectedTokenIndex]);let p=e=>{if(n!=u.J0.LoadSucceeded)return;if(!e||isNaN(+e)){s({type:l.AmountNftChanged,payload:{amountNft:e,amountToken:""}});return}let t=Math.floor(+e);t=t>a.saleInfo.nftRemaining?a.saleInfo.nftRemaining:t,s({type:l.AmountNftChanged,payload:{amountNft:t.toString(),amountToken:(10*t).toString()}})},h=e=>{if(n!=u.J0.LoadSucceeded)return;if(!e||isNaN(+e)){s({type:l.AmountTokenChanged,payload:{amountToken:e,amountNft:e}});return}let t=Math.floor(+e/10);t=t>a.saleInfo.nftRemaining?a.saleInfo.nftRemaining:t,s({type:l.AmountTokenChanged,payload:{amountToken:e,amountNft:t.toString()}})},v=e=>{s({type:l.SelectedTokenIndexChanged,payload:{index:e}})},x=()=>{if(e.status==i.InitializeFailed){console.log("handlePurchaseNft form initialize failed");return}let t=async()=>{var s;if(!(null===S.Z||void 0===S.Z?void 0:null===(s=S.Z.currentWallet)||void 0===s?void 0:s.walletAccount))throw Error("Wallet is undefined");if(!e.formData.amountNft||isNaN(+e.formData.amountNft))throw Error("Amount is empty");if(e.formData.amountToken>r)throw Error("Token balance is not enough");await S.Z.currentWallet.purchaseNft(+e.formData.amountNft)};s({type:l.PurchaseNftRequested}),t().then(()=>{s({type:l.PurchaseNftSucceeded})}).catch(e=>{P.Z.error("=== purchaseNft - ERROR ",e),((null==e?void 0:e.message)=="TokenAccountNotFoundError"||"TokenAccountNotFoundError"==e)&&(e="Purchase failed. Please try again or contact to administrator for more detail."),s({type:l.PurchaseNftFailed,payload:{error:e}})})};return{...e,selectableTokens:F,selectedToken:e.formData.selectedTokenIndex>=0?F[e.formData.selectedTokenIndex]:null,selectedTokenBalance:r,handleAmountNftChanged:p,handleAmountTokenChanged:h,handleSelectedTokenIndexChanged:v,handlePurchaseNft:x}},U=e=>{let{children:s,id:t}=e,n=R();return(0,o.jsx)(p.Provider,{value:n,children:s})};var B=t(1664),O=t.n(B),M=t(5677),q=t.n(M);let H=()=>(0,o.jsxs)("div",{id:q().row,className:"row",children:[(0,o.jsx)(u.gt,{children:(0,o.jsxs)("div",{id:q().column_1,children:[(0,o.jsx)("div",{className:q()["button-back"],children:(0,o.jsxs)(O(),{href:"/portfolio",children:[(0,o.jsx)("i",{className:"fms fm-arrow-left"})," Back To Portfolio"]})}),(0,o.jsx)(L,{}),(0,o.jsxs)("div",{id:q().block_1,className:"mBackground-style-1",children:[(0,o.jsx)(W,{}),(0,o.jsx)("div",{className:q().gap}),(0,o.jsx)(u.VX,{}),(0,o.jsx)("div",{className:q().gap}),(0,o.jsx)(u.MJ,{}),(0,o.jsx)("div",{className:q().divider}),(0,o.jsx)(u.wQ,{})]}),(0,o.jsxs)("div",{id:q().block_2,className:"mBlock",children:[(0,o.jsxs)("section",{children:[(0,o.jsx)("span",{className:q()["section-title"],children:"Documents"}),(0,o.jsx)(u.Vb,{})]}),(0,o.jsxs)("section",{children:[(0,o.jsx)("span",{className:q()["section-title"],children:"About the Property"}),(0,o.jsx)(u.zy,{})]}),(0,o.jsxs)("section",{children:[(0,o.jsx)(Y,{}),(0,o.jsx)(u.G3,{})]}),(0,o.jsxs)("section",{children:[(0,o.jsx)("span",{className:q()["section-title"],children:"Map"}),(0,o.jsx)(u.Ey,{})]})]})]})}),(0,o.jsx)("div",{id:q().column_2,children:(0,o.jsx)(u.gt,{children:(0,o.jsx)(U,{children:(0,o.jsx)(I,{})})})})]});H.getLayout=function(e){return(0,o.jsx)(r.lq,{children:e})};var Z=H;let L=()=>{let{status:e,data:s}=(0,u.v5)(),t=e!=u.J0.LoadSucceeded;return(0,o.jsx)("div",{className:["mBreadcrumb-style-4 col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",q().title].join(" "),children:(0,o.jsxs)("div",{className:"div_1",children:[(0,o.jsxs)("span",{className:"span_1",children:[t?"- -":null==s?void 0:s.showcaseInfo.id,": ",t?"- -":null==s?void 0:s.showcaseInfo.name]}),(0,o.jsx)("span",{className:"mTag span_2","data-status":"successfull",children:"Total Return: Est 15-25% APY"})]})})},W=()=>{let{status:e,data:s}=(0,u.v5)(),t=e!=u.J0.LoadSucceeded;return(0,o.jsxs)("div",{className:q().div_1,children:[(0,o.jsx)("span",{className:q().span_1,children:t?"- -":null==s?void 0:s.showcaseInfo.name}),(0,o.jsx)("span",{className:q().span_2,children:t?"- -":null==s?void 0:s.showcaseInfo.type}),(0,o.jsx)("span",{className:q().span_3,children:t?"- -":null==s?void 0:s.showcaseInfo.address})]})},Y=()=>{let{status:e,data:s}=(0,u.v5)(),t=e!=u.J0.LoadSucceeded;return(0,o.jsxs)("div",{id:q()["section-highlight-properties-header"],children:[(0,o.jsxs)("span",{className:q().span_1,children:[(0,o.jsx)("span",{className:[q().span_0].join(" "),children:"Property Highlights"}),(0,o.jsx)("span",{className:[q().span_3,"mButton mButton-cp6-bp1"].join(" "),children:t?"- -":null==s?void 0:s.showcaseInfo.operateStatus})]}),(0,o.jsxs)("span",{className:q().span_4,children:["Holding Times: ",t?"- -":null==s?void 0:s.showcaseInfo.holdingTimes]})]})}},8924:function(e,s,t){"use strict";t.d(s,{d$:function(){return _},Fs:function(){return d}});var n=t(7294),a=t(5893),l=t(6455),i=t.n(l),o=t(782);let r=()=>{let e={padding:"0 1rem 5rem 1rem",showConfirmButton:!1,showCancelButton:!1,showCloseButton:!0},s={allowEnterKey:!1,allowOutsideClick:!1,showCancelButton:!0,showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}},t={icon:!1,position:o.Am.POSITION.BOTTOM_RIGHT,transition:(0,o.vU)({enter:"animate__animated animate__slideInRight",exit:"animate__animated animate__zoomOut"})};return{showPopup:function(s){let{status:t="success",title:n="",message:a="",...l}=s;i().fire({imageUrl:"none"!=t?"/image/zero/image-alert-".concat(t,".png"):"",imageWidth:200,imageHeight:200,title:n,html:a,...e,...l})},showAlert:function(e){let{title:t="",message:n="",C_confirm:a=()=>{},C_cancel:l=()=>{}}=e,o=i().fire({icon:"question",title:""===t?"Warning":t,html:""===n?"Confirm to perform action":n,confirmButtonText:"Confirm",cancelButtonText:"Cancel",...s});o.then(e=>{e.dismiss===i().DismissReason.cancel?l():a()})},showToast:function(e){let{status:s="success",title:l="",message:i="",duration:r=5e3}=e;(0,o.Am)((0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("div",{className:"title upper-case-text",children:s}),(0,a.jsx)("div",{className:"message",dangerouslySetInnerHTML:{__html:i}})]}),{type:s,autoClose:r,...t})}}};var _=r;let c=()=>{let[e,s]=n.useState(a());function t(){s(a())}function a(){return window.innerWidth>1007?"browser":window.innerWidth>700?"tablet-large":window.innerWidth>480?"tablet":"mobile"}return n.useEffect(()=>(t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}),[]),e};var d=c},9592:function(e){e.exports={button:"styles_button__UhfmV"}},612:function(e){e.exports={preorder_input:"styles_preorder_input__ylYxs",formatted:"styles_formatted__fbw54",selectbox_1:"styles_selectbox_1__ocqd2",number_format_margin_top:"styles_number_format_margin_top__2Nt9o",flex_end:"styles_flex_end__QhqQx",input_block_label:"styles_input_block_label__bP3VT",input_block_label_currency:"styles_input_block_label_currency__bykSh",input_block_input_number_format:"styles_input_block_input_number_format__bYCMC",align_right:"styles_align_right__F0hnF",divider:"styles_divider___NTa0"}},8329:function(e){e.exports={preorder_container:"styles_preorder_container__lDe1Z",inner_content:"styles_inner_content__5kX_l",header_wrapper:"styles_header_wrapper__AKIqw",span_1:"styles_span_1__qMro9",arrow:"styles_arrow__lnJ6r",span_2:"styles_span_2__u5K3A",span_3:"styles_span_3__YHhgd",image_1:"styles_image_1__ePOuy",item_1:"styles_item_1__l3aqf",div_1:"styles_div_1__Kv73d",div_2:"styles_div_2__sl4SV",countdown_1:"styles_countdown_1__oGy1z",preorder_wrapper:"styles_preorder_wrapper__bPfYQ",span_4:"styles_span_4__3wCTP",span_5:"styles_span_5__voX_j",span_6:"styles_span_6__p5vs0",inputbox_1:"styles_inputbox_1__Zw01z",button_1:"styles_button_1__X0md9",active:"styles_active___B0js",wholesale_value_button:"styles_wholesale_value_button__7Aonq",div_3:"styles_div_3__KdnV6",div_4:"styles_div_4__SPiOG",block_span_4:"styles_block_span_4__Vgjdz",deposit_modal:"styles_deposit_modal__kZ31L",button_2:"styles_button_2__ee1CH",confirmorder_wrapper:"styles_confirmorder_wrapper__XzpgZ",separator_1:"styles_separator_1__bJS0G",separator_2:"styles_separator_2__qU949",blue:"styles_blue__zIMHC",stressed:"styles_stressed__NIzHT",red:"styles_red__wHjDC",input_range_1:"styles_input_range_1__SVOhg",tracker:"styles_tracker___b7E0",selectbox_1:"styles_selectbox_1__ehGws",fullPaymentMessage:"styles_fullPaymentMessage___mxIq",fullPaymentMessage_Icon:"styles_fullPaymentMessage_Icon__56Nco",fullPaymentMessage_Content:"styles_fullPaymentMessage_Content__l0PQI",notify_wrapper:"styles_notify_wrapper__N_FNu",modalDepositPopup:"styles_modalDepositPopup__8wzcq",modalDepositTitle:"styles_modalDepositTitle__Fq0po",modalDepositContent:"styles_modalDepositContent__KAje7",modalDepositButtonConfirm:"styles_modalDepositButtonConfirm__j9N0e"}},5677:function(e){e.exports={row:"styles_row__HZRQI",column_1:"styles_column_1___zgyV",column_2:"styles_column_2___MRLZ",block_1:"styles_block_1__IE3MP",span_1:"styles_span_1__bx_O_",span_2:"styles_span_2__5MU2a",span_3:"styles_span_3__HmfZK",div_1:"styles_div_1__uZKOl",gap:"styles_gap__n9zO1",divider:"styles_divider__KvE2H","section-title":"styles_section-title__F5yIq",block_2:"styles_block_2__rz7C8","section-highlight-properties-header":"styles_section-highlight-properties-header__5Be7h",span_0:"styles_span_0__QQs8Z",span_4:"styles_span_4__65zUC",title:"styles_title__O88YT","button-back":"styles_button-back__FD7_7",revert:"styles_revert__UdWwp"}}},function(e){e.O(0,[885,61,455,912,67,598,774,888,179],function(){return e(e.s=4901)}),_N_E=e.O()}]);