(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{3664:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/claim-dividends",function(){return n(6766)}])},6766:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var a=n(5893),i=n(5067),d=n(4085),s=n(8924),r=n(7294),l=n(9473);let o=()=>{let e=(0,l.I0)(),{showToast:t}=(0,s.d$)(),n=(0,l.v9)(d._r),a=(0,l.v9)(d.KU),i=(0,l.v9)(d.Sg),o=(0,l.v9)(d.w2);r.useEffect(()=>{e(d.Mk.initRequested())},[]),r.useEffect(()=>{i==d.hJ.ClaimDividendFailed?t({status:"error",message:o}):i==d.hJ.ClaimDividendSucceeded&&(t({status:"success",message:"Claim dividend successful"}),e(d.Mk.initRequested()))},[i]);let c=()=>{console.log("handle buy nft"),e(d.Mk.claimDividendRequested())};return{status:i,userTotalUsdClaimableDividend:n,userTotalUsdClaimedDividend:a,handleClaimDividends:c}};var c=n(4345),m=n.n(c);let h=()=>{let{status:e,userTotalUsdClaimableDividend:t,userTotalUsdClaimedDividend:n,handleClaimDividends:i}=o(),s=e=>{e.preventDefault(),i()};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("form",{className:[m().form,"mBackground-style-1"].join(" "),children:(0,a.jsxs)("div",{className:m()["form-body"],children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Available (Claimable)"}),(0,a.jsxs)("p",{children:[e==d.hJ.Loading?"- -":t," US$"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Value (Claimed)"}),(0,a.jsxs)("p",{children:[e==d.hJ.Loading?"- -":n," US$"]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:[m()["button-claim-dividends"],"mButton","mButton-cp5-bn1"].join(" "),onClick:s,disabled:e==d.hJ.Loading||e==d.hJ.ClaimingDividend,children:e==d.hJ.Loading?"Loading...":e==d.hJ.ClaimingDividend?"Processing...":"Claim"})})]})})})};var u=n(381),x=n.n(u),j=n(2331),f=n.n(j);let p=()=>{let e=(0,l.I0)(),t=(0,l.v9)(d.$h),n=(0,l.v9)(d.Sg);return r.useEffect(()=>{e(d.Mk.initRequested())},[]),{status:n,userDividensData:t}},v=()=>{let{status:e,userDividensData:t}=p();return(0,a.jsx)("div",{className:f()["table-wrapper"],children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{"data-name":"id",children:"ID"}),(0,a.jsx)("th",{"data-name":"project",children:"PROJECT"}),(0,a.jsx)("th",{"data-name":"from",children:"FROM"}),(0,a.jsx)("th",{"data-name":"to",children:"TO"}),(0,a.jsx)("th",{"data-name":"amount-nft",children:"AMOUNT NFT"}),(0,a.jsx)("th",{"data-name":"amount-dividend",children:"AMOUNT DIVIDEND"}),(0,a.jsx)("th",{"data-name":"status",children:"STATUS"})]})}),(0,a.jsx)("tbody",{children:e!=d.hJ.Loading&&(null==t?void 0:t.length)>0?t.map(e=>{let{id:t,project:n,dateFrom:i,dateTo:d,nft:s,dividend:r,status:l}=e;return(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{"data-name":"id",children:["#",t]}),(0,a.jsx)("td",{"data-name":"project",children:n}),(0,a.jsx)("td",{"data-name":"from",children:i&&x()(i).format("DD - MM - YYYY")}),(0,a.jsx)("td",{"data-name":"to",children:d&&x()(d).format("DD - MM - YYYY")}),(0,a.jsx)("td",{"data-name":"amount-nft",children:s}),(0,a.jsxs)("td",{"data-name":"amount-dividend",children:[r," US$"]}),(0,a.jsx)("td",{"data-name":"status","data-value":l,children:l})]},t)}):e==d.hJ.Loading?(0,a.jsx)("tr",{"data-type":"empty-row",children:(0,a.jsx)("td",{colSpan:7,children:"Loading..."})}):(0,a.jsx)("tr",{"data-type":"empty-row",children:(0,a.jsx)("td",{colSpan:7,children:"No transaction yet"})})})]})})};var _=n(7152),y=n.n(_);let g=()=>{let e=(0,l.I0)(),t=(0,l.v9)(d.$h),n=(0,l.v9)(d.Sg);r.useEffect(()=>{e(d.Mk.initRequested())},[]),r.useEffect(()=>{console.log("============== XXX: ",t),t&&t.length>0&&a(t)},[t]);let a=e=>{let t=(e,t)=>{let n=x()(new Date(e.year(),e.month()-1,e.date())),a=x()(new Date(t.year(),t.month()-1,t.date()));return n<a?1:n===a?0:-1},n=e.sort((e,t)=>((null==t?void 0:t.dateFrom)||0)-(e.dateFrom||0)>0?-1:1),a=x()(n[0].dateFrom),i=x()(n[n.length-1].dateTo),d=((e,t)=>{let n=[];for(e.add(1,"day");;)if(e.year()<=t.year()&&e.month()<=t.month()&&e.date()<=t.date())n.push({dateFrom:e,dividenId:"",id:"",dateTo:e,project:"",dividend:0,nft:0,dividendEachNFT:0,status:"available"}),e.add(1,"day");else break;return n})(a,i);d.forEach((e,a)=>{n.find((n,a)=>t(x()(n.dateFrom),x()(e.dateFrom)))}),console.log("================== convertUserDividenData2TableData: ",{tmpUserDividensData:n,dividendHistoryArray:d,minDate:a,maxDate:i})};return{status:n,userDividensData:t}},w=()=>{let{status:e,userDividensData:t}=g();return(0,a.jsx)("div",{className:y()["table-dividend-history-wrapper"],children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{"data-name":"id",children:"ID"}),(0,a.jsx)("th",{"data-name":"project",children:"PROJECT"}),(0,a.jsx)("th",{"data-name":"from",children:"FROM"}),(0,a.jsx)("th",{"data-name":"to",children:"TO"}),(0,a.jsx)("th",{"data-name":"amount-nft",children:"AMOUNT NFT"}),(0,a.jsx)("th",{"data-name":"amount-dividend",children:"AMOUNT DIVIDEND"}),(0,a.jsx)("th",{"data-name":"status",children:"STATUS"})]})}),(0,a.jsx)("tbody",{children:e!=d.hJ.Loading&&(null==t?void 0:t.length)>0?t.map(e=>{let{id:t,project:n,dateFrom:i,dateTo:d,nft:s,dividend:r,status:l}=e;return(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{"data-name":"id",children:["#",t]}),(0,a.jsx)("td",{"data-name":"project",children:n}),(0,a.jsx)("td",{"data-name":"from",children:i&&x()(i).format("DD - MM - YYYY")}),(0,a.jsx)("td",{"data-name":"to",children:d&&x()(d).format("DD - MM - YYYY")}),(0,a.jsx)("td",{"data-name":"amount-nft",children:s}),(0,a.jsxs)("td",{"data-name":"amount-dividend",children:[r," US$"]}),(0,a.jsx)("td",{"data-name":"status","data-value":l,children:l})]},t)}):e==d.hJ.Loading?(0,a.jsx)("tr",{"data-type":"empty-row",children:(0,a.jsx)("td",{colSpan:7,children:"Loading..."})}):(0,a.jsx)("tr",{"data-type":"empty-row",children:(0,a.jsx)("td",{colSpan:7,children:"No transaction yet"})})})]})})};var b=n(4499),D=n.n(b);let N=()=>(0,a.jsxs)("div",{className:D().container,children:[(0,a.jsx)("h2",{className:D().title,children:"Claim Dividends"}),(0,a.jsx)("div",{className:D()["form-buy-nft-placeholder"],style:{marginBottom:"30px"},children:(0,a.jsx)(h,{})}),(0,a.jsx)("h2",{className:D().title,children:"Claim Dividends History"}),(0,a.jsx)("div",{className:D()["table-claim-dividends-history-placeholder"],children:(0,a.jsx)(v,{})}),(0,a.jsx)("br",{}),(0,a.jsx)("h2",{className:D().title,children:"Claim Dividends History - In detail"}),(0,a.jsx)("div",{className:D()["table-claim-dividends-history-placeholder"],children:(0,a.jsx)(w,{})})]});N.getLayout=function(e){return(0,a.jsx)(i.lq,{children:e})};var T=N},8924:function(e,t,n){"use strict";n.d(t,{d$:function(){return o},Fs:function(){return m}});var a=n(7294),i=n(5893),d=n(6455),s=n.n(d),r=n(782);let l=()=>{let e={padding:"0 1rem 5rem 1rem",showConfirmButton:!1,showCancelButton:!1,showCloseButton:!0},t={allowEnterKey:!1,allowOutsideClick:!1,showCancelButton:!0,showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}},n={icon:!1,position:r.Am.POSITION.BOTTOM_RIGHT,transition:(0,r.vU)({enter:"animate__animated animate__slideInRight",exit:"animate__animated animate__zoomOut"})};return{showPopup:function(t){let{status:n="success",title:a="",message:i="",...d}=t;s().fire({imageUrl:"none"!=n?"/image/zero/image-alert-".concat(n,".png"):"",imageWidth:200,imageHeight:200,title:a,html:i,...e,...d})},showAlert:function(e){let{title:n="",message:a="",C_confirm:i=()=>{},C_cancel:d=()=>{}}=e,r=s().fire({icon:"question",title:""===n?"Warning":n,html:""===a?"Confirm to perform action":a,confirmButtonText:"Confirm",cancelButtonText:"Cancel",...t});r.then(e=>{e.dismiss===s().DismissReason.cancel?d():i()})},showToast:function(e){let{status:t="success",title:d="",message:s="",duration:l=5e3}=e;(0,r.Am)((0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)("div",{className:"title upper-case-text",children:t}),(0,i.jsx)("div",{className:"message",dangerouslySetInnerHTML:{__html:s}})]}),{type:t,autoClose:l,...n})}}};var o=l;let c=()=>{let[e,t]=a.useState(i());function n(){t(i())}function i(){return window.innerWidth>1007?"browser":window.innerWidth>700?"tablet-large":window.innerWidth>480?"tablet":"mobile"}return a.useEffect(()=>(n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[]),e};var m=c},4345:function(e){e.exports={form:"styles_form__tI2Po","form-header":"styles_form-header__mT71g","form-title":"styles_form-title__TABnc","form-body":"styles_form-body__HapY8","form-group":"styles_form-group__tPJRS","button-claim-dividends":"styles_button-claim-dividends__BLLeO"}},7152:function(e){e.exports={"table-dividend-history-wrapper":"styles_table-dividend-history-wrapper__yV_Xt"}},2331:function(e){e.exports={"table-wrapper":"styles_table-wrapper__hIUsI"}},4499:function(e){e.exports={container:"styles_container__a3YRw",title:"styles_title__cKoH3","table-claim-dividends-history-placeholder":"styles_table-claim-dividends-history-placeholder__T2CeK"}}},function(e){e.O(0,[885,61,455,67,774,888,179],function(){return e(e.s=3664)}),_N_E=e.O()}]);